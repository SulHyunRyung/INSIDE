package gui;

import javax.swing.*;
import java.awt.*;

public class MainFrame extends JFrame {
    private static final long serialVersionUID = 1L;

    public MainFrame(String memberName) {
        setTitle("Main Window");
        setSize(800, 600);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setLocationRelativeTo(null);
        setResizable(false); // 창 크기 조정 불가능

        // 메인 패널 설정
        JPanel mainPanel = new JPanel();
        mainPanel.setLayout(new BorderLayout(10, 10)); // 패널 간격 조정
        mainPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10)); // 창과 콘텐츠 사이에 여백 추가

        // 상단 패널 (로고 및 사용자 이름)
        JPanel topPanel = new JPanel();
        topPanel.setLayout(new BorderLayout()); // BorderLayout 사용

        // 로고 이미지 추가
        ImageIcon logoIcon = new ImageIcon("C:\\Users\\tirof\\OneDrive\\바탕 화면\\Develope\\INSIDE\\img\\logo.png"); // 절대 경로 사용
        Image img = logoIcon.getImage(); // 이미지를 가져온다
        Image newImg = img.getScaledInstance(120, 50, Image.SCALE_SMOOTH); // 새 크기로 조정 (예: 100x50)
        JLabel logoLabel = new JLabel(new ImageIcon(newImg)); // 조정된 이미지를 JLabel에 추가
        
        topPanel.add(logoLabel, BorderLayout.WEST); // 로고를 왼쪽에 배치

        // 사용자 이름과 로그아웃 버튼을 오른쪽에 배치
        JPanel userPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT));
        JLabel greetingLabel = new JLabel(memberName + "님 안녕하세요.");
        JButton logoutButton = new JButton("로그아웃");
        
        userPanel.add(greetingLabel);
        userPanel.add(logoutButton);
        
        topPanel.add(userPanel, BorderLayout.CENTER); // 사용자 패널을 중앙에 배치
        
        mainPanel.add(topPanel, BorderLayout.NORTH);

        // 게시판과 버튼을 나란히 배치할 패널
        JPanel centerPanel = new JPanel();
        centerPanel.setLayout(new GridBagLayout());
        GridBagConstraints gbc = new GridBagConstraints();
        
        // 게시판 패널
        JPanel boardPanel = new JPanel();
        boardPanel.setLayout(new GridLayout(0, 1)); // 게시물 리스트를 수직으로 나열
        boardPanel.setBorder(BorderFactory.createTitledBorder("게시판"));

        // 최근 5개 게시물 추가 (예시)
        for (int i = 1; i <= 5; i++) {
            boardPanel.add(new JLabel("게시물 " + i)); // 게시물 제목
        }

        // JScrollPane을 사용하여 게시판에 스크롤 기능 추가
        JScrollPane scrollPane = new JScrollPane(boardPanel);
        scrollPane.setPreferredSize(new Dimension(400, 200)); // 게시판 높이를 200픽셀로 줄임

        // GridBagLayout으로 게시판과 버튼 배치
        gbc.gridx = 0; // 첫 번째 열
        gbc.gridy = 0; // 첫 번째 행
        centerPanel.add(scrollPane, gbc); // 게시판 추가

        // 버튼 패널
        JPanel buttonPanel = new JPanel();
        buttonPanel.setLayout(new GridBagLayout()); // GridBagLayout 사용

        // 버튼 생성
        JButton editInfoButton = new JButton("회원 정보 수정");
        JButton friendListButton = new JButton("친구 목록");
        JButton boardMoveButton = new JButton("게시판으로 이동");
        
        // 버튼 크기 설정
        Dimension buttonSize = new Dimension(180, 40); // 버튼 크기 설정
        editInfoButton.setPreferredSize(buttonSize);
        friendListButton.setPreferredSize(buttonSize);
        boardMoveButton.setPreferredSize(buttonSize);

        // 버튼 사이에 공백 추가 및 배치
        GridBagConstraints btnGbc = new GridBagConstraints();
        btnGbc.gridx = 0; // 첫 번째 열
        btnGbc.gridy = 0; // 첫 번째 행
        btnGbc.insets = new Insets(10, 15, 25, 0); // 아래쪽에 30픽셀 공백 추가
        buttonPanel.add(editInfoButton, btnGbc); // 회원 정보 수정 버튼 추가
        
        btnGbc.gridy = 1; // 두 번째 행
        buttonPanel.add(friendListButton, btnGbc); // 친구 목록 버튼 추가
        
        btnGbc.gridy = 2; // 세 번째 행
        buttonPanel.add(boardMoveButton, btnGbc); // 게시판으로 이동 버튼 추가

        gbc.gridx = 1; // 두 번째 열
        gbc.gridy = 0; // 첫 번째 행
        centerPanel.add(buttonPanel, gbc); // 버튼 패널 추가

        mainPanel.add(centerPanel, BorderLayout.CENTER);
        
        // 메인 패널을 JFrame에 추가
        add(mainPanel);
        pack(); // 컴포넌트에 맞게 창 크기 조정
        setVisible(true);
    }

    public static void main(String[] args) {
        new MainFrame("(MEMBER_NAME)"); // 회원 이름을 매개변수로 전달
    }
}
